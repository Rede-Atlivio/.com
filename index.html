<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atlivio - Marketplace H√≠brido</title>
    
    <link rel="manifest" href="./manifest.json">
    <meta name="theme-color" content="#1e3a8a">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style> 
        .animate-fadeIn { animation: fadeIn 0.5s ease-out; }
        .login-card-up { animation: slideUp 0.6s cubic-bezier(0.16, 1, 0.3, 1); }
        @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
        .bg-gradient-atlivio { background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 50%, #7c3aed 100%); }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .loader { border: 4px solid #f3f3f3; border-top: 4px solid #3498db; border-radius: 50%; width: 30px; height: 30px; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .chat-bubble-me { background-color: #3b82f6; color: white; border-radius: 12px 12px 0 12px; margin-left: auto; }
        .chat-bubble-them { background-color: #f3f4f6; color: #1f2937; border-radius: 12px 12px 12px 0; margin-right: auto; }
        .toggle-checkbox:checked { right: 0; border-color: #68D391; }
        .toggle-checkbox:checked + .toggle-label { background-color: #68D391; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .rate-star { cursor: pointer; color: #e5e7eb; transition: color 0.2s; }
        .rate-star.active { color: #fbbf24; }
         /* üõ°Ô∏è BLINDAGEM DE CONTRASTE DO PERFIL */
        .perfil-cliente-tag { 
            color: #ffffff !important; /* Texto Branco para legibilidade m√°xima */
            background: #15803d; /* Fundo Verde s√≥lido */
            padding: 2px 8px;
            border-radius: 6px;
            box-shadow: 0 0 12px rgba(34, 197, 94, 0.4);
        }
        .perfil-prestador-tag { 
         color: #ffffff !important; 
         background: #0f172a; /* Slate-900 (Preto Profissional) */
         padding: 4px 10px;
         border: 1px solid rgba(255,255,255,0.2);
         border-radius: 8px;
         box-shadow: 0 4px 15px rgba(0,0,0,0.4);
         letter-spacing: 0.5px;
        }
        .tag-select.selected { background-color: #dbeafe; border-color: #3b82f6; color: #1e3a8a; font-weight: bold; }
        .filter-pill { white-space: nowrap; transition: all 0.2s; }
        .filter-pill.active { background-color: #2563eb; color: white; border-color: #2563eb; }
        .subtab-btn { border-bottom: 2px solid transparent; color: #9ca3af; transition: all 0.3s; cursor: pointer; }
        .subtab-btn.active { background-color: #2563eb !important; color: white !important; font-weight: 900; border-radius: 99px; box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3); }
        .nav-tab-atlivio { transition: all 0.2s ease; border: 1px solid transparent; }
        .nav-tab-atlivio:not(.active) { background-color: rgba(0,0,0,0.03); border-color: rgba(0,0,0,0.05); }

        /* 1. Linha Separadora de Fila */
        .radar-divider { display: flex; align-items: center; gap: 10px; margin: 15px 0; opacity: 0.6; }
        .radar-divider::before, .radar-divider::after { content: ""; flex: 1; height: 1px; background: linear-gradient(90deg, transparent, #3b82f6, transparent); }
        .radar-divider span { font-size: 8px; font-weight: 900; color: #64748b; text-transform: uppercase; letter-spacing: 1px; }

        /* 2. P√≠lula de Convers√£o (Layout Grid Est√°vel) */
        .atlivio-pill { 
            display: grid; grid-template-columns: auto 1fr auto; align-items: center; gap: 12px;
            padding: 12px 16px; background: #1e293b; border-left: 4px solid #3b82f6; 
            border-radius: 14px; margin-bottom: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            transition: all 0.2s ease;
        }
        .atlivio-pill.is-red { border-left-color: #ef4444; background: #2d0606; }
        .btn-ver-pill { background: #2563eb; color: white; font-weight: 900; font-size: 9px; padding: 8px 16px; border-radius: 8px; text-transform: uppercase; cursor: pointer; }
        .btn-ver-pill:active { transform: scale(0.95); }
        
        /* 3. Skin de Alerta V24 (Impacto Visual M√°ximo) */
        div.request-card.is-red-alert { 
            background-color: #450a0a !important; 
            border: 2px solid #ef4444 !important; 
            box-shadow: 0 0 60px rgba(220, 38, 38, 0.6) !important;
        }
        .is-red-alert h2 { color: #fee2e2 !important; text-shadow: 0 0 20px rgba(239, 68, 68, 0.9); }
        .is-red-alert .bg-blue-600 { background-color: #dc2626 !important; } /* Ajusta badge de oportunidade */

        /* ‚úÖ CORRE√á√ÉO GERAL: INPUTS COM LETRA ESCURA */
        input, textarea, select {
            color: #1f2937 !important; /* Cinza Escuro */
            background-color: #f9fafb !important; /* Fundo Claro */
        }

        /* ‚úÖ EXCE√á√ÉO: ONBOARDING (LETRA BRANCA) */
        #modal-onboarding input { 
            color: white !important; 
            background-color: #0f172a !important; /* Fundo Escuro */
        }

        /* AJUSTE DO AUTO-PREENCHIMENTO (CHROME) */
        input:-webkit-autofill,
        input:-webkit-autofill:hover, 
        input:-webkit-autofill:focus, 
        input:-webkit-autofill:active {
            -webkit-box-shadow: 0 0 0 30px #f9fafb inset !important;
            -webkit-text-fill-color: #1f2937 !important;
            transition: background-color 5000s ease-in-out 0s;
        }

        /* AUTO-PREENCHIMENTO NO ONBOARDING */
        #modal-onboarding input:-webkit-autofill {
            -webkit-box-shadow: 0 0 0 30px #0f172a inset !important;
            -webkit-text-fill-color: white !important;
        }
        /* ‚ú® ANIMA√á√ÉO DA FAIXA DE B√îNUS */
        @keyframes bounce-subtle {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(3px); }
        }
        .animate-bounce-subtle {
            animation: bounce-subtle 2s infinite;
        }

   /* ============================================================
      RADAR VISUAL V12 - SISTEMA MULTI-OFERTAS
      ============================================================ */

        /* 1. CONTAINER FLUIDO */
        #radar-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
            width: 100%;
            max-width: 400px;
            max-height: 80vh; /* Limita a altura para n√£o vazar da tela */
            overflow-y: auto; /* Scroll interno se houver muitos cards */
            margin: 0 auto;
            z-index: 8000;
            padding: 10px 5px;
        }

        /* 2. O CARD PADR√ÉO (DARK BLUE) */
        .request-card {
            pointer-events: auto;
            background-color: #0f172a !important; /* Azul Noturno */
            border: 1px solid #1e3a8a;
            border-radius: 16px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.5);
            color: white;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            animation: slideInDown 0.4s ease-out;
            position: relative;
            overflow: hidden;
            width: 100%;
        }

        /* 3. O CARD MINIMIZADO (MODO LISTA) */
        .request-card.minimized {
            min-height: 65px;
            background-color: #1e293b !important;
            border-left: 4px solid #f59e0b !important;
            display: flex !important;
            align-items: center !important;
            padding: 0 16px !important;
            opacity: 0.95;
            transform: scale(0.98);
            cursor: pointer;
        }

        /* Esconde detalhes quando minimizado */
        .request-card.minimized [id^="detalhes-"], 
        .request-card.minimized .card-details { 
            display: none !important; 
        }

        /* ANIMA√á√ïES E PROFUNDIDADE V12 FINAL */
        @keyframes slideInDown { from { opacity: 0; transform: translateY(-30px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slideOutRight { to { transform: translateX(100%); opacity: 0; } }
        .request-card.removing { animation: slideOutRight 0.4s ease-in forwards; }
        
        /* Sistema de Fila Vertical Limpa */
        #radar-container > div { position: relative; transition: all 0.5s ease; }

        /* Estilo da Barra de Rolagem do Radar */
        .custom-scroll::-webkit-scrollbar { width: 4px; }
        .custom-scroll::-webkit-scrollbar-track { background: transparent; }
        .custom-scroll::-webkit-scrollbar-thumb { background: rgba(59, 130, 246, 0.4); border-radius: 10px; }
        #radar-container { scrollbar-gutter: stable; }

        /* Garante que o modal de termos sempre fique por cima de tudo */
        #modal-terms { z-index: 999999 !important; }
        /* üõ°Ô∏è TRAVA DE SOBERANIA: Impede que Antena e Offline apare√ßam juntos */
        #radar-offline-state:not(.hidden) ~ #radar-empty-state,
        #radar-offline-state:not(.hidden) ~ #radar-container {
            display: none !important;
        }
    </style>

    <script>
        window.toggleTag = (btn) => { btn.classList.toggle('selected'); };
    </script>
</head>
<body class="bg-slate-900 text-white font-sans selection:bg-blue-500 selection:text-white">

    <audio id="notification-sound" src="https://actions.google.com/sounds/v1/cartoon/magic_chime.ogg" preload="auto"></audio>
    <audio id="online-sound" src="https://www.soundjay.com/buttons/sounds/button-09.mp3" preload="auto"></audio>

    <input type="file" id="profile-upload" accept="image/*" class="hidden" onchange="uploadFotoPerfil(this)">
    <input type="file" id="camera-input" accept="image/*" capture="environment" class="hidden">

    <div id="auth-container" class="hidden min-h-screen bg-slate-900 flex flex-col">
        
        <div class="h-[30vh] md:h-[35vh] bg-gradient-atlivio relative flex flex-col items-center justify-center p-4 text-center">
            <div class="absolute top-4 right-4">
                <span class="bg-white/10 backdrop-blur-md text-white text-[10px] font-black px-3 py-1 rounded-full border border-white/20">BRA üáßüá∑</span>
            </div>
            
            <div class="w-20 h-20 bg-white/10 backdrop-blur-2xl rounded-[2rem] mb-4 flex items-center justify-center border border-white/20 shadow-2xl relative shrink-0">
                <svg class="w-12 h-12 text-white opacity-90" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
                </svg>
                <div class="absolute -bottom-1 -right-1 bg-green-500 w-6 h-6 rounded-full border-4 border-slate-900 flex items-center justify-center text-[10px]">‚úî</div>
            </div>

            <h1 class="text-4xl font-black text-white italic uppercase tracking-tighter mb-1">Atlivio</h1>
            <p class="text-blue-100 text-[10px] font-bold uppercase tracking-[0.2em] opacity-80">O Primeiro Marketplace H√≠brido do Mundo</p>
        </div>

        <div class="flex-1 bg-slate-900 rounded-t-[3rem] -mt-6 p-8 pt-10 relative z-10 login-card-up shadow-[0_-20px_50px_rgba(0,0,0,0.5)] border-t border-white/5">
            
            <div id="login-step-phone" class="max-w-md mx-auto space-y-6">
                <div class="text-left mb-8">
                    <h2 class="text-2xl font-black text-white italic">Um jeito inteligente de trabalhar.</h2>
                    <p class="text-slate-400 text-xs font-medium mt-1">Digite seu WhatsApp para acessar sua conta e gerenciar seus lucros.</p>
                </div>

                <div class="relative group">
                    <span class="absolute left-4 top-5 text-slate-500 font-black text-sm tracking-tighter">BR +55</span>
                    <input type="tel" 
                           id="login-phone" 
                           oninput="window.mascaraTelefone(this)" 
                           placeholder="(00) 00000-0000" 
                           class="w-full bg-slate-800 border-2 border-slate-700 rounded-2xl p-5 pl-20 text-white text-lg font-black focus:border-blue-500 outline-none transition-all shadow-inner group-hover:border-slate-600">
                </div>
                
                <button onclick="window.enviarSMSLogin()" id="btn-login-send" class="w-full bg-blue-600 text-white font-black uppercase py-5 rounded-2xl hover:bg-blue-500 transition-all shadow-[0_10px_30px_rgba(37,99,235,0.3)] transform active:scale-95 text-sm tracking-widest">
                    Receber C√≥digo SMS üì≤
                </button>

                <div class="relative py-2">
                    <div class="absolute inset-0 flex items-center"><div class="w-full border-t border-white/5"></div></div>
                    <div class="relative flex justify-center text-[9px] uppercase"><span class="bg-slate-900 px-4 text-slate-500 font-black tracking-widest">ou acesso r√°pido</span></div>
                </div>

                <button onclick="alert('üöÄ SEGURAN√áA M√ÅXIMA\n\nEstamos homologando o Login Google para garantir total prote√ß√£o √† sua carteira.\n\nPor enquanto, use o Login via SMS: √© r√°pido, seguro e dispensa senhas!')" 
                        class="w-full bg-slate-800 border-2 border-slate-700 text-slate-300 font-black py-4 rounded-2xl flex items-center justify-center gap-3 hover:bg-slate-700 transition active:scale-95">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/c/c1/Google_%22G%22_logo.svg" class="w-5 h-5">
                    ENTRAR COM GOOGLE
                </button>

                <div class="pt-4 flex flex-col items-center gap-1">
                    <p class="text-[10px] text-slate-500">Ao continuar, voc√™ concorda com as nossas</p>
                    <div class="flex gap-2 mt-1">
                        <a href="javascript:void(0)" onclick="event.preventDefault(); event.stopPropagation(); window.openTerms('termos');" class="text-blue-500 text-[10px] font-black underline decoration-2">Regras de Uso</a>
                        <span class="text-slate-600 text-[10px]">e</span>
                        <a href="javascript:void(0)" onclick="event.preventDefault(); event.stopPropagation(); window.openTerms('privacidade');" class="text-blue-500 text-[10px] font-black underline decoration-2">Privacidade</a>
                    </div>
                </div>
            </div>

            <div id="login-step-code" class="hidden max-w-md mx-auto space-y-6 animate-fadeIn">
                <div class="text-center bg-blue-500/10 p-4 rounded-2xl border border-blue-500/20">
                    <p class="text-xs text-blue-400 font-bold">Enviamos o SMS para <span id="lbl-login-phone" class="text-white">...</span></p>
                </div>
                <input type="tel" id="login-code" placeholder="000000" maxlength="6" class="w-full bg-slate-800 border-2 border-slate-700 rounded-2xl p-5 text-white text-3xl tracking-[0.6em] text-center font-black focus:border-green-500 outline-none transition">
                
                <button onclick="window.confirmarCodigoLogin()" id="btn-login-verify" class="w-full bg-green-600 text-white font-black uppercase py-5 rounded-2xl shadow-lg transform active:scale-95">
                    Entrar Agora üöÄ
                </button>
                <button onclick="location.reload()" class="w-full text-[10px] text-slate-500 font-black uppercase tracking-widest hover:text-white transition">‚Üê Corrigir N√∫mero</button>
            </div>

            <div id="recaptcha-container" class="mt-4 flex justify-center"></div>
        </div>
    </div>

    <script>
        // M√ÅSCARA GLOBAL PARA O LOGIN
        window.mascaraTelefone = (i) => {
            let v = i.value.replace(/\D/g, "");
            v = v.replace(/^(\d{2})(\d)/g, "($1) $2");
            v = v.replace(/(\d{5})(\d)/, "$1-$2");
            i.value = v.substring(0, 15);
        };
    </script>

    <div id="role-selection" class="hidden min-h-screen flex items-center justify-center bg-slate-900 p-4">
        <div class="bg-white p-8 rounded-2xl shadow-2xl w-full max-w-lg text-gray-800 text-center">
            <h2 class="text-2xl font-black text-blue-900 uppercase mb-2 italic">Identidade</h2>
            <p class="text-gray-400 text-xs mb-6">Como voc√™ quer usar a plataforma?</p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-left">
                <button onclick="definirPerfil('cliente')" class="p-6 border-2 border-gray-100 rounded-2xl hover:border-blue-600 hover:bg-blue-50 transition">
                    <div class="text-4xl mb-3">üíé</div>
                    <div class="font-black text-blue-900 uppercase italic">Cliente</div>
                    <div class="text-[10px] text-gray-500 mt-1">Quero contratar servi√ßos e comprar.</div>
                </button>
                <button onclick="definirPerfil('prestador')" class="p-6 border-2 border-gray-100 rounded-2xl hover:border-blue-600 hover:bg-blue-50 transition">
                    <div class="text-4xl mb-3">üõ†Ô∏è</div>
                    <div class="font-black text-blue-900 uppercase italic">Prestador</div>
                    <div class="text-[10px] text-gray-500 mt-1">Quero trabalhar e cumprir miss√µes.</div>
                </button>
            </div>
        </div>
    </div>

    <div id="transition-overlay" class="fixed inset-0 bg-slate-900 z-[200] flex flex-col items-center justify-center text-white">
    <div class="relative flex h-24 w-24 items-center justify-center mb-6">
        <div class="animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-20"></div>
        <span class="relative inline-flex rounded-full h-16 w-16 bg-blue-600 items-center justify-center text-3xl shadow-xl">üîÑ</span>
    </div>
    <h2 class="text-xl font-black uppercase italic tracking-tighter animate-pulse">Carregando...</h2>
    <p class="text-[10px] text-gray-400 font-bold uppercase mt-2">Aguarde, estamos preparando tudo.</p>
</div>

    <div id="app-container" class="hidden min-h-screen bg-gray-50 text-gray-800 flex flex-col">
        
        <header class="bg-gradient-atlivio p-5 z-30 sticky top-0 shadow-[0_10px_30px_rgba(0,0,0,0.3)]" id="header-main">
    <div id="notif-badge-container" class="absolute top-2 right-4 z-[101]"></div>

    <div id="global-alert-banner" class="hidden bg-amber-100 border-l-4 border-amber-500 text-amber-700 p-3 mb-3 rounded shadow-sm flex justify-between items-center">
        <p id="global-alert-text" class="text-xs font-bold"></p>
        <button onclick="this.parentElement.style.display='none'" class="text-amber-700 font-bold">&times;</button>
    </div>
    <div class="flex justify-between items-center">
                <div class="flex flex-col">
                    <div class="flex flex-col md:flex-row md:items-baseline gap-1">
                        <h1 class="text-2xl font-black text-white italic uppercase tracking-tighter shadow-sm">Atlivio</h1>
                        <span class="text-[8px] md:text-[10px] text-blue-100 font-bold uppercase tracking-widest border-l-0 md:border-l md:pl-2 border-white/20">
                            O Primeiro Marketplace H√≠brido do Mundo
                        </span>
                    </div>
                    
                   <button onclick="alternarPerfil()" id="btn-trocar-perfil" class="text-[9px] font-black text-white uppercase italic flex items-center gap-2 bg-white/20 backdrop-blur-md px-4 py-2 rounded-full mt-3 border border-white/30 w-fit hover:bg-white/30 transition shadow-sm">
                        üîÑ Carregando...
                    </button>
                </div>
                
                <div class="flex items-center gap-2">
                    <div id="status-toggle-container" class="hidden bg-gray-100 p-2 rounded-lg flex items-center border border-gray-200">
                        <span id="status-label" class="text-[8px] font-bold text-gray-500 uppercase mr-2">OFFLINE</span>
                        
                        <div class="relative inline-block w-8 align-middle select-none transition duration-200 ease-in">
                            <input type="checkbox" name="toggle" id="online-toggle" class="toggle-checkbox absolute block w-4 h-4 rounded-full bg-white border-4 appearance-none cursor-pointer border-gray-300 left-0 transition-all duration-300"/>
                            <label for="online-toggle" class="toggle-label block overflow-hidden h-4 rounded-full bg-gray-300 cursor-pointer"></label>
                        </div>
                    </div>
                    <div class="flex flex-col items-end gap-1">
    <button onclick="window.abrirConfiguracoes()" class="text-gray-400 hover:text-blue-600 mb-1 transition transform hover:scale-110" title="Minha Conta">
        <span class="text-xl">‚öôÔ∏è</span>
    </button>
    
    <button id="btn-install-app" class="hidden bg-[#0f172a] text-white font-black text-[10px] uppercase px-5 py-2.5 rounded-xl shadow-[0_0_15px_rgba(0,0,0,0.3)] border border-white/10 hover:bg-slate-900 transition-all animate-pulse whitespace-nowrap transform active:scale-95">
    üì≤ SALVE SEU ACESSO
</button>
    
</div>
                </div>
            </div>
        </header>

        <nav class="flex bg-gray-50/50 border-b border-gray-100 z-20 overflow-x-auto no-scrollbar shadow-sm p-2 gap-2">
    <button onclick="switchTab('servicos')" id="tab-servicos" class="subtab-btn nav-tab-atlivio flex-shrink-0 py-2.5 px-5 text-[10px] font-black text-gray-400 uppercase italic">Servi√ßos üõ†Ô∏è</button>
    <button onclick="switchTab('empregos')" id="tab-empregos" class="subtab-btn nav-tab-atlivio flex-shrink-0 py-2.5 px-5 text-[10px] font-black text-gray-400 uppercase italic">Empregos üíº</button>
    <button onclick="switchTab('missoes')" id="tab-missoes" class="subtab-btn nav-tab-atlivio hidden flex-shrink-0 py-2.5 px-5 text-[10px] font-black text-gray-400 uppercase italic">Micro Tarefas üì∑</button>
    <button onclick="switchTab('oportunidades')" id="tab-oportunidades" class="subtab-btn nav-tab-atlivio hidden flex-shrink-0 py-2.5 px-5 text-[10px] font-black text-gray-400 uppercase italic">Oportunidades ‚ö°</button>
    <button onclick="switchTab('loja')" id="tab-loja" class="subtab-btn nav-tab-atlivio hidden flex-shrink-0 py-2.5 px-5 text-[10px] font-black text-gray-400 uppercase italic">Produtos üõí</button>
    <button onclick="switchTab('ganhar')" id="tab-ganhar" class="subtab-btn nav-tab-atlivio hidden flex-shrink-0 py-2.5 px-5 text-[10px] font-black text-green-600 uppercase italic">Carteira üí∞</button>
</nav>

        <main class="flex-1 overflow-y-auto p-4 max-w-2xl mx-auto w-full pb-24">
            
            <section id="sec-oportunidades" class="hidden space-y-4 animate-fadeIn">
                <p class="text-[9px] text-gray-400 uppercase font-bold text-center mb-2 tracking-widest border-b pb-2">Descontos exclusivos, Cashback e Apps que pagam por indica√ß√£o</p>
                <div id="lista-oportunidades" class="grid gap-3"></div>
            </section>
            
            <section id="sec-missoes" class="hidden space-y-4 animate-fadeIn">
                <p class="text-[9px] text-gray-400 uppercase font-bold text-center mb-2 tracking-widest border-b pb-2">Realize miss√µes r√°pidas e garanta uma renda extra</p>
                <div id="lista-missoes" class="grid gap-4"></div>
            </section>
   <section id="sec-servicos" class="hidden space-y-4 animate-fadeIn">

    <div id="category-filters" class="hidden"></div>

    <div id="servicos-cliente" class="hidden">
        <div id="user-header-services" class="bg-white p-4 rounded-xl shadow-sm mb-4 border border-gray-100 flex justify-between items-center hidden animate-fadeIn">
            <div class="flex items-center gap-3">
                <div class="relative cursor-pointer group" onclick="document.getElementById('profile-upload').click()">
                    <img id="header-user-pic" src="" class="w-10 h-10 rounded-full border-2 border-blue-100 object-cover" onerror="this.src='https://ui-avatars.com/api/?name=User&background=random'">
                    <div class="absolute inset-0 bg-black/30 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition"><span class="text-[8px] text-white">üì∑</span></div>
                </div>
                <div>
                    <h3 class="font-black text-xs text-gray-800 uppercase" id="header-user-name">Carregando...</h3>
                    <p class="text-[8px] text-blue-400 italic mt-1 cursor-pointer hover:text-blue-600" onclick="document.getElementById('profile-upload').click()">(Toque na foto para alterar)</p>
                </div>
            </div>
        </div>

        <div class="flex border-b border-gray-200 mb-4 justify-between bg-white rounded-xl shadow-sm p-1">
            <button onclick="switchServiceSubTab('contratar')" id="subtab-contratar-btn" class="subtab-btn active flex-1 py-2 text-[10px] uppercase text-center">Contratar üîç</button>
            <button onclick="switchServiceSubTab('andamento')" id="subtab-andamento-btn" class="subtab-btn flex-1 py-2 text-[10px] uppercase text-center">Em Andamento ‚è≥</button>
            <button onclick="switchServiceSubTab('historico')" id="subtab-historico-btn" class="subtab-btn flex-1 py-2 text-[10px] uppercase text-center">Hist√≥rico üìú</button>
        </div>

        <div id="view-contratar">
            <div id="lista-prestadores-realtime" class="grid grid-cols-2 gap-3 pb-24"></div>
        </div>

        <div id="view-andamento" class="hidden space-y-2">
            <p class="text-[9px] text-gray-400 uppercase font-bold text-center mb-2 tracking-widest border-b pb-2">Acompanhe seus pedidos em tempo real</p>
            <div id="meus-pedidos-andamento" class="space-y-3"></div>
        </div>
        <div id="view-historico" class="hidden space-y-2">
            <p class="text-[9px] text-gray-400 uppercase font-bold text-center mb-2 tracking-widest border-b pb-2">Seus servi√ßos anteriores</p>
            <div id="meus-pedidos-historico" class="space-y-3"></div>
        </div>
    </div>

    <div id="servicos-prestador" class="hidden">
        
        <div class="mb-4 animate-fadeIn">
            <div class="bg-[#0f172a] rounded-2xl p-5 shadow-xl border border-white/5 flex justify-between items-center relative overflow-hidden">
                <div class="absolute right-[-10px] top-[-10px] w-20 h-20 bg-blue-600/10 rounded-full blur-2xl"></div>
                
                <div class="relative z-10">
                    <p id="label-ganhos-home" class="text-[9px] font-black text-blue-400 uppercase tracking-[0.15em] mb-1">Meus Ganhos</p>
                    <div class="flex items-center gap-3">
                        <h2 id="user-earnings-home" class="text-2xl font-black text-white italic tracking-tighter" data-hidden="false">R$ 0,00</h2>
                        <button onclick="window.togglePrivacyHome()" class="text-gray-400 hover:text-white transition-all transform active:scale-110">
                            <span id="eye-icon-home" class="text-base">üëÅÔ∏è</span>
                        </button>
                    </div>
                </div>

                <button onclick="window.switchTab('ganhar')" class="relative z-10 bg-blue-600/10 text-blue-400 px-4 py-2 rounded-xl text-[9px] font-black uppercase border border-blue-500/20 hover:bg-blue-600 hover:text-white transition-all">
                    DETALHES
                </button>
            </div>
        </div>

        <div class="bg-white p-4 rounded-xl shadow-sm mb-4 border border-blue-100 flex justify-between items-center animate-fadeIn">
            <div class="flex items-center gap-3">
                <div class="relative cursor-pointer group" onclick="document.getElementById('profile-upload').click()">
                    <img id="provider-header-pic" src="" class="w-10 h-10 rounded-full border-2 border-blue-200 object-cover" onerror="this.src='https://ui-avatars.com/api/?name=User&background=random'">
                    <div class="absolute inset-0 bg-black/30 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition"><span class="text-[8px] text-white">üì∑</span></div>
                </div>
                <div>
                    <h3 class="font-black text-xs text-blue-900 uppercase" id="provider-header-name">Carregando...</h3>
                    <p class="text-[8px] text-blue-400 italic mt-1 cursor-pointer hover:text-blue-600" onclick="document.getElementById('profile-upload').click()">(Toque na foto para alterar)</p>
                </div>
            </div>
            <button onclick="abrirConfiguracaoServicos()" class="text-[10px] text-blue-600 font-bold border border-blue-100 px-3 py-1 rounded-lg hover:bg-blue-50">‚úé MEUS SERVI√áOS</button>
        </div>

        <div class="flex border-b border-gray-200 mb-4 justify-between bg-white rounded-xl shadow-sm p-1">
            <button onclick="switchProviderSubTab('radar')" id="ptab-radar-btn" class="subtab-btn active flex-1 py-2 text-[10px] uppercase text-center">Radar üì°</button>
            <button onclick="switchProviderSubTab('ativos')" id="ptab-ativos-btn" class="subtab-btn flex-1 py-2 text-[10px] uppercase text-center">Pedidos Ativos üîî</button>
            <button onclick="switchProviderSubTab('historico')" id="ptab-historico-btn" class="subtab-btn flex-1 py-2 text-[10px] uppercase text-center">Hist√≥rico ‚úÖ</button>
        </div>

       <div id="pview-radar" class="flex flex-col items-center py-4 min-h-[400px] relative">
            <div id="radar-offline-state" class="flex flex-col items-center justify-center py-20 animate-fadeIn">
                <div class="relative flex h-24 w-24 items-center justify-center mb-4 opacity-50 grayscale">
                    <div class="relative bg-white rounded-full p-6 shadow-xl border-4 border-gray-300 text-4xl">üí§</div>
                </div>
                <p class="text-xs font-black text-gray-500 uppercase tracking-widest">Voc√™ est√° Offline</p>
            </div>

            <div id="radar-empty-state" class="hidden flex flex-col items-center justify-center py-20 animate-fadeIn">
                <div class="relative flex h-24 w-24 items-center justify-center mb-4">
                    <div class="animate-ping absolute h-full w-full rounded-full bg-blue-500 opacity-20"></div>
                    <div class="relative bg-white rounded-full p-6 shadow-xl border-4 border-blue-600 text-4xl">üì°</div>
                </div>
                <p class="text-xs font-black text-blue-900 uppercase tracking-widest animate-pulse text-center">Procurando clientes ao seu redor...</p>
            </div>

           <div id="radar-container" class="hidden w-full max-w-[400px] max-h-[65vh] overflow-y-auto space-y-3 z-10 custom-scroll pr-1 pb-4"></div>
        </div>
        <div id="pview-ativos" class="hidden space-y-3">
            <p class="text-[9px] text-gray-400 uppercase font-bold text-center mb-2 tracking-widest border-b pb-2">Servi√ßos que precisam da sua aten√ß√£o</p>
            <div id="lista-chamados-ativos">
                <p class="text-center text-gray-400 text-xs py-4">Aguardando pedidos...</p>
            </div>
        </div>

        <div id="pview-historico" class="hidden space-y-3">
            <p class="text-[9px] text-gray-400 uppercase font-bold text-center mb-2 tracking-widest border-b pb-2">Seus trabalhos conclu√≠dos</p>
            <div id="lista-chamados-historico">
                <p class="text-center text-gray-400 text-xs py-4">Hist√≥rico vazio.</p>
            </div>
        </div>
    </div>
</section>

<section id="sec-empregos" class="hidden space-y-4 animate-fadeIn">
    <div id="lista-vagas" class="grid gap-3"></div>

    <div id="painel-empresa" class="hidden">
        <div class="bg-blue-50 p-4 rounded-xl border border-blue-100 text-center mb-4">
            <h3 class="font-black text-blue-900 text-sm uppercase italic">Precisa Contratar?</h3>
            <p class="text-[10px] text-gray-500 mb-3">Encontre talentos locais r√°pido.</p>
            <button onclick="abrirModalVaga()" class="w-full bg-blue-600 text-white py-2 rounded-lg font-bold text-xs uppercase shadow-md hover:bg-blue-700">
                + Anunciar Vaga Gr√°tis
            </button>
        </div>
        <p class="text-[9px] text-gray-400 uppercase font-bold text-center mb-2 tracking-widest border-b pb-2">Suas Vagas Ativas</p>
        <div id="lista-minhas-vagas" class="space-y-2"></div>
    </div>
</section>

<section id="sec-loja" class="hidden space-y-4 animate-fadeIn">
    <p class="text-[9px] text-gray-400 uppercase font-bold text-center mb-2 tracking-widest border-b pb-2">Produtos recomendados para aumentar sua produtividade</p>
    <div id="sec-produtos"></div>
</section>

<section id="sec-chat" class="hidden space-y-4 animate-fadeIn">
    <div id="lista-chats" class="space-y-2"></div>
</section>

<section id="sec-ganhar" class="hidden space-y-4 animate-fadeIn">
    <p class="text-[9px] text-gray-400 uppercase font-bold text-center mb-2 tracking-widest border-b pb-2">Seu saldo atual e hist√≥rico de ganhos</p>

    <div class="space-y-4">
        <div class="bg-[#0f172a] p-6 rounded-[24px] text-white shadow-2xl relative overflow-hidden border border-blue-500/20">
            <div class="absolute right-[-20px] top-[-20px] w-32 h-32 bg-blue-600/10 rounded-full blur-3xl"></div>
            
            <div class="flex justify-between items-start mb-6">
                <div>
                    <p class="text-[9px] font-black uppercase tracking-[0.2em] text-blue-400 mb-1">Poder de Compra Total</p>
                    <div class="flex items-baseline gap-1">
                        <span class="text-xl font-bold text-gray-400">R$</span>
                        <h2 class="text-5xl font-black tracking-tighter" id="user-balance">0,00</h2>
                    </div>
                </div>
                <div class="bg-blue-600/20 p-2 rounded-lg border border-blue-500/30">
                    <span class="text-xl">üí≥</span>
                </div>
            </div>

            <div class="grid grid-cols-2 gap-4 border-t border-white/5 pt-6">
                <div>
                    <p class="text-[8px] font-bold text-gray-500 uppercase mb-1">Dinheiro Real</p>
                    <p class="text-sm font-black text-white">R$ <span id="user-balance-real">0,00</span></p>
                </div>
                <div>
                    <div class="flex items-center gap-1 mb-1">
                        <p class="text-[8px] font-bold text-blue-400 uppercase">Cr√©dito B√¥nus</p>
                        <button onclick="alert('üéÅ CR√âDITO B√îNUS:\n\nEste saldo √© um presente da Atlivio para voc√™ usar dentro da plataforma.\n\nEle pode ser usado para pagar taxas de servi√ßo ou contratar profissionais, mas n√£o pode ser sacado para sua conta banc√°ria.')" class="text-[10px] text-blue-400 opacity-60">‚ìò</button>
                    </div>
                    <p class="text-sm font-black text-blue-400">R$ <span id="user-balance-bonus">0,00</span></p>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-2 gap-3">
            <div class="bg-white p-4 rounded-2xl border border-gray-100 shadow-sm flex flex-col justify-between h-24 relative">
                <button onclick="alert('üîí SALDO EM CUST√ìDIA:\n\nEste valor est√° reservado para garantir um servi√ßo em andamento.\n\nEle fica congelado por seguran√ßa at√© que o servi√ßo seja conclu√≠do. Ap√≥s a finaliza√ß√£o, ele √© liquidado ou estornado conforme o caso.')" class="absolute top-4 right-4 text-gray-300 text-xs font-bold border border-gray-100 w-5 h-5 rounded-full flex items-center justify-center">?</button>
                <span class="text-blue-600 text-lg">üîí</span>
                <div>
                    <p class="text-[8px] font-black text-gray-400 uppercase">Em Cust√≥dia</p>
                    <p class="text-lg font-black text-slate-800">R$ <span id="user-reserved">0,00</span></p>
                </div>
            </div>
           <div class="bg-white p-4 rounded-2xl border border-gray-100 shadow-sm flex flex-col justify-between h-24 relative group">
                <div class="absolute top-3 right-3 z-[100]">
                    <select id="filtro-ganhos" onchange="window.filtrarGanhos(this.value)" class="relative block w-full bg-blue-50 border-none text-[9px] font-black text-blue-600 uppercase outline-none cursor-pointer p-1.5 rounded-lg shadow-sm appearance-none text-center">
                        <option value="hoje">Hoje</option>
                        <option value="7">7 Dias</option>
                        <option value="30">30 Dias</option>
                        <option value="total">Total</option>
                    </select>
                </div>
                <span id="ganho-icon" class="text-emerald-500 text-lg transition-transform duration-300 group-hover:scale-110">üìà</span>
                <div>
                    <p id="label-ganhos" class="text-[8px] font-black text-gray-400 uppercase tracking-wider">Ganhos de Hoje</p>
                    <p class="text-lg font-black text-slate-800">R$ <span id="user-earnings">0,00</span></p>
                </div>
            </div>
        </div>

        <button onclick="window.switchTab('servicos')" class="w-full bg-blue-600 text-white py-4 rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-lg shadow-blue-500/20 flex justify-center items-center gap-2 transform active:scale-[0.98] transition">
            Contratar ou Trabalhar Agora <span id="user-balance-earn" class="hidden">0,00</span> ‚ûú
        </button>
    </div>

    <div class="bg-white p-4 rounded-2xl border border-gray-100 shadow-sm">
        <label class="text-[10px] font-bold text-gray-500 uppercase mb-2 block">Valor da Recarga</label>

        <div class="relative mb-4">
            <select id="select-recarga" onchange="atualizarBotaoRecarga()" class="w-full appearance-none bg-slate-50 border border-slate-200 text-slate-900 py-3 px-4 pr-8 rounded-xl font-bold focus:outline-none focus:border-blue-500 text-sm">
                <option value="20" data-link="https://checkout.infinitepay.io/atlivio-servicos/3bIid5b8ab">R$ 20,00 (M√≠nimo)</option>
                <option value="50" data-link="https://checkout.infinitepay.io/atlivio-servicos/7CbShtSMhP" selected>R$ 50,00 (Padr√£o)</option>
                <option value="100" data-link="https://checkout.infinitepay.io/atlivio-servicos/bDXDqMZGb">R$ 100,00</option>
                <option value="200" data-link="https://checkout.infinitepay.io/atlivio-servicos/7Cc6SYR5GV">R$ 200,00</option>
                <option value="300" data-link="https://checkout.infinitepay.io/atlivio-servicos/2Os2RFbnrp">R$ 300,00</option>
                <option value="500" data-link="https://checkout.infinitepay.io/atlivio-servicos/2Os2h1fIRF">R$ 500,00</option>
                <option value="1000" data-link="https://checkout.infinitepay.io/atlivio-servicos/7Cc8jSByeT">R$ 1.000,00 üîí</option>
                <option value="2000" data-link="https://checkout.infinitepay.io/atlivio-servicos/8vnmmjyed">R$ 2.000,00 üîí</option>
                <option value="3000" data-link="https://checkout.infinitepay.io/atlivio-servicos/7CcA0Hf9rd">R$ 3.000,00 üîí</option>
                <option value="5000" data-link="https://checkout.infinitepay.io/atlivio-servicos/1neXfjPyKx">R$ 5.000,00 üîí</option>
            </select>
            <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                    <path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z" />
                </svg>
            </div>
        </div>

        <div id="box-aviso-recarga" class="bg-blue-50 border-l-4 border-blue-500 p-3 mb-4 rounded-r-lg transition-colors duration-300">
            <p id="recarga-copy" class="text-[10px] text-blue-800 font-medium italic">
                O valor mais escolhido pelos prestadores.
            </p>
        </div>

        <button id="btn-fazer-recarga" onclick="processarRecarga()" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-xl shadow-lg transform transition active:scale-95 flex justify-center items-center gap-2 group">
            <span class="font-black uppercase tracking-wide">GERAR PIX AGORA</span>
            <span class="bg-white/20 px-2 py-0.5 rounded text-xs font-bold group-hover:bg-white/30 transition">‚ö°</span>
        </button>
    </div>

    <div class="mt-6">
        <p class="text-[10px] font-black text-gray-400 uppercase ml-1 tracking-widest mb-3">√öltimas Transa√ß√µes</p>
        <div id="lista-transacoes-carteira" class="space-y-2">
            <p class="text-center text-[10px] text-gray-400 py-4 italic">Nenhuma movimenta√ß√£o recente.</p>
        </div>
    </div>

    <script>
        // üîí CONFIGURA√á√ÉO DE SEGURAN√áA (TRAVA INVIS√çVEL)
        const USUARIO_VERIFICADO = false;

        window.atualizarBotaoRecarga = function() {
            const select = document.getElementById('select-recarga');
            if (!select) return;

            const valor = parseInt(select.value);
            const avisoBox = document.getElementById('box-aviso-recarga');
            const copyText = document.getElementById('recarga-copy');

            // L√≥gica das frases educativas e cores
            if (valor <= 50) {
                avisoBox.className = "bg-blue-50 border-l-4 border-blue-500 p-3 mb-4 rounded-r-lg";
                copyText.className = "text-[10px] text-blue-800 font-medium italic";
                copyText.innerText = "Ideal para come√ßar e testar a plataforma.";
            } else if (valor <= 500) {
                avisoBox.className = "bg-green-50 border-l-4 border-green-500 p-3 mb-4 rounded-r-lg";
                copyText.className = "text-[10px] text-green-800 font-medium italic";
                copyText.innerText = "Garanta saldo para pegar v√°rios servi√ßos seguidos.";
            } else {
                // Valores Altos
                if (!USUARIO_VERIFICADO) {
                    avisoBox.className = "bg-amber-50 border-l-4 border-amber-500 p-3 mb-4 rounded-r-lg";
                    copyText.className = "text-[10px] text-amber-800 font-bold";
                    copyText.innerText = "üîí Necess√°rio conta verificada para este valor.";
                } else {
                    avisoBox.className = "bg-purple-50 border-l-4 border-purple-500 p-3 mb-4 rounded-r-lg";
                    copyText.className = "text-[10px] text-purple-800 font-medium italic";
                    copyText.innerText = "Alta performance: Fature alto sem interrup√ß√µes.";
                }
            }
        }

        window.processarRecarga = function() {
            const select = document.getElementById('select-recarga');
            if (!select) return;

            const option = select.options[select.selectedIndex];
            const link = option.getAttribute('data-link');
            const valor = parseInt(select.value);

            // --- A TRAVA INVIS√çVEL üõ°Ô∏è ---
            if (valor > 500 && !USUARIO_VERIFICADO) {
                alert("üîí SEGURAN√áA:\n\nPara fazer recargas acima de R$ 500,00, voc√™ precisa completar pelo menos 1 servi√ßo ou verificar sua identidade.\n\nPor favor, escolha um valor menor para come√ßar.");
                return;
            }

            if (link && link.startsWith('http')) {
                window.open(link, '_blank');
            } else {
                alert("‚ö†Ô∏è Link de pagamento indispon√≠vel no momento.");
            }
        }
    </script>
</section>

<div id="request-modal" class="hidden fixed inset-0 bg-black/90 z-[9999] flex flex-col items-center justify-end md:justify-center p-4 animate-fadeIn">
    <div class="bg-white w-full max-w-sm rounded-t-2xl md:rounded-2xl shadow-2xl flex flex-col max-h-[90vh]">
        <input type="hidden" id="target-provider-id">
        <input type="hidden" id="service-base-price">

        <div class="bg-blue-900 p-4 text-white flex-shrink-0 rounded-t-2xl md:rounded-t-2xl flex justify-between items-start">
            <div>
                <h3 class="font-black text-lg uppercase italic">Fazer Proposta</h3>
                <p class="text-xs opacity-75">Negocie o valor com seguran√ßa.</p>
            </div>
            <button onclick="document.getElementById('request-modal').classList.add('hidden')" class="text-white text-xl font-bold px-2">&times;</button>
        </div>

        <div class="p-5 overflow-y-auto flex-1 custom-scrollbar">
            <div id="service-selection-container" class="mb-4 w-full"></div>

            <div class="grid grid-cols-2 gap-3 mb-3">
                <div>
                    <label class="text-[10px] font-bold text-gray-500 uppercase">Data</label>
                    <input type="date" id="req-date" class="w-full bg-gray-50 border border-gray-200 rounded-lg p-2 text-sm font-bold text-gray-700 outline-none focus:border-blue-500">
                </div>
                <div>
                    <label class="text-[10px] font-bold text-gray-500 uppercase">Hora</label>
                    <input type="time" id="req-time" class="w-full bg-gray-50 border border-gray-200 rounded-lg p-2 text-sm font-bold text-gray-700 outline-none focus:border-blue-500">
                </div>
            </div>

            <div class="mb-4">
                <label class="text-[10px] font-bold text-gray-500 uppercase">Local</label>
                <input type="text" id="req-local" placeholder="Endere√ßo ou Ponto de Encontro" class="w-full bg-gray-50 border border-gray-200 rounded-lg p-2 text-sm font-bold outline-none focus:border-blue-500">
            </div>

            <div class="border-t border-gray-100 pt-2 mb-3"></div>

            <div>
                <p class="text-[10px] font-bold text-blue-900 uppercase mb-3">Quanto voc√™ quer ofertar?</p>

                <div class="mb-4">
                    <p class="text-[9px] text-gray-400 mb-2">‚ö° Oferta R√°pida (Recomendado)</p>
                    <div class="grid grid-cols-3 gap-2">
                        <button onclick="window.selecionarDesconto(-0.05)" class="border border-green-200 bg-green-50 text-green-700 py-2 rounded-lg font-bold text-xs hover:bg-green-100 transition">-5%</button>
                        <button onclick="window.selecionarDesconto(-0.10)" class="border border-green-200 bg-green-50 text-green-700 py-2 rounded-lg font-bold text-xs hover:bg-green-100 transition">-10%</button>
                        <button onclick="window.selecionarDesconto(-0.15)" class="border border-green-200 bg-green-50 text-green-700 py-2 rounded-lg font-bold text-xs hover:bg-green-100 transition">-15%</button>
                    </div>
                </div>

                <div class="bg-gray-50 p-3 rounded-xl border border-gray-200">
                    <div class="flex justify-between items-center mb-2">
                        <label class="flex items-center gap-2 cursor-pointer">
                            <input type="radio" name="price-type" id="radio-custom" class="accent-blue-600" onchange="window.ativarInputPersonalizado()">
                            <span class="text-xs font-bold text-gray-700">‚úèÔ∏è Outro Valor</span>
                        </label>
                    </div>
                    <div class="relative">
                        <span class="absolute left-3 top-2 text-gray-500 font-bold text-sm">R$</span>
                        <input type="number" id="req-value" placeholder="0,00" disabled class="w-full border p-2 pl-9 rounded-lg text-lg font-black text-gray-800 bg-white outline-none transition" oninput="window.validarOferta(this.value)">
                    </div>
                    <p id="calc-total-reserva" class="hidden text-xs font-bold text-blue-600 mt-1 text-center">R$ 0.00</p>
                </div>
            </div>
        </div>

        <button id="btn-confirm-req" class="w-full bg-green-600 hover:bg-green-500 text-white font-black py-4 rounded-xl shadow-lg transform transition active:scale-95 text-sm uppercase">
            ENVIAR PROPOSTA
        </button>
    </div>
</div>

<div id="review-modal" class="hidden fixed inset-0 bg-black/90 z-50 flex flex-col items-center justify-center p-4 animate-fadeIn">
    <div class="bg-white w-full max-w-sm rounded-2xl p-6 text-center">
        <h3 id="review-modal-title" class="font-black text-xl text-blue-900 uppercase italic mb-1">Como foi?</h3>
        <p class="text-xs text-gray-400 mb-6">Sua avalia√ß√£o ajuda a comunidade.</p>
        <div class="flex justify-center gap-2 mb-6 text-4xl" id="star-container">
            <span class="rate-star" data-val="1">‚òÖ</span><span class="rate-star" data-val="2">‚òÖ</span><span class="rate-star" data-val="3">‚òÖ</span><span class="rate-star" data-val="4">‚òÖ</span><span class="rate-star" data-val="5">‚òÖ</span>
        </div>
        <div class="grid grid-cols-2 gap-2 mb-6">
            <button onclick="toggleTag(this)" class="tag-select border border-gray-200 rounded-lg py-2 text-[10px] font-bold text-gray-500 uppercase">Pontual</button>
            <button onclick="toggleTag(this)" class="tag-select border border-gray-200 rounded-lg py-2 text-[10px] font-bold text-gray-500 uppercase">Educado</button>
            <button onclick="toggleTag(this)" class="tag-select border border-gray-200 rounded-lg py-2 text-[10px] font-bold text-gray-500 uppercase">Profissional</button>
            <button onclick="toggleTag(this)" class="tag-select border border-gray-200 rounded-lg py-2 text-[10px] font-bold text-gray-500 uppercase">Simp√°tico</button>
        </div>
        <div class="flex items-center justify-center gap-4 mb-6">
            <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="recommend" value="yes" class="accent-blue-600" checked><span class="text-xs font-bold text-gray-700">üëç Recomendo</span></label>
            <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="recommend" value="no" class="accent-red-600"><span class="text-xs font-bold text-gray-700">üëé N√£o Indico</span></label>
        </div>
        <textarea id="review-comment" class="w-full border border-gray-200 rounded-xl p-3 text-xs bg-gray-50 focus:outline-none focus:border-blue-500 mb-4 text-gray-900" rows="3" placeholder="Deixe um coment√°rio (opcional)..."></textarea>
        <button onclick="enviarAvaliacao()" class="w-full bg-blue-600 text-white py-3 rounded-xl font-bold uppercase shadow-md hover:bg-blue-700">Enviar Avalia√ß√£o</button>
        <button onclick="document.getElementById('review-modal').classList.add('hidden')" class="w-full mt-2 text-gray-400 text-xs underline">Pular</button>
    </div>
</div>

<div id="job-post-modal" class="hidden fixed inset-0 bg-black/90 z-50 flex flex-col items-center justify-center p-4 animate-fadeIn">
    <div class="bg-white w-full max-w-sm rounded-2xl p-6 relative">
        <button onclick="document.getElementById('job-post-modal').classList.add('hidden')" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-xl font-bold">&times;</button>
        <h3 class="font-black text-xl text-blue-900 uppercase italic mb-4">Nova Vaga</h3>

        <label class="text-[9px] font-bold text-gray-500 uppercase">T√≠tulo da Vaga</label>
        <input type="text" id="job-title" placeholder="Ex: Atendente de Loja" class="w-full border p-2 rounded-lg mb-3 text-sm bg-gray-50">

        <label class="text-[9px] font-bold text-gray-500 uppercase">Sal√°rio (Opcional)</label>
        <input type="text" id="job-salary" placeholder="Ex: 1.800,00" class="w-full border p-2 rounded-lg mb-3 text-sm bg-gray-50">

        <label class="text-[9px] font-bold text-gray-500 uppercase">Descri√ß√£o</label>
        <textarea id="job-desc" rows="4" class="w-full border p-2 rounded-lg mb-4 text-sm bg-gray-50" placeholder="Requisitos e atividades..."></textarea>

        <button onclick="publicarVaga()" id="btn-pub-job" class="w-full bg-blue-600 text-white py-3 rounded-xl font-bold uppercase shadow-lg hover:bg-blue-700">PUBLICAR AGORA</button>
    </div>
</div>

<div id="modal-apply" class="fixed inset-0 z-[60] hidden items-center justify-center bg-black/80 backdrop-blur-sm" style="display: none;">
    <div class="bg-white w-full max-w-md mx-4 rounded-2xl shadow-2xl relative flex flex-col max-h-[90vh]">

        <div class="p-6 border-b border-gray-100 flex justify-between items-start">
            <div>
                <h3 class="text-xl font-black text-blue-900 uppercase italic">Nova Candidatura</h3>
                <p class="text-sm text-gray-500 mt-1">Vaga: <span id="apply-job-title" class="font-bold text-blue-600">...</span></p>
            </div>
            <button onclick="window.fecharModalCandidatura()" class="text-gray-400 hover:text-red-500 text-2xl font-bold transition">&times;</button>
        </div>

        <div class="p-6 space-y-5 overflow-y-auto">
            <input type="hidden" id="apply-job-id">

            <div>
                <label class="block text-xs font-black text-gray-500 mb-2 uppercase">MENSAGEM AO RECRUTADOR</label>
                <textarea id="apply-message" rows="3" class="w-full border border-gray-300 rounded-xl p-3 text-sm text-black bg-white focus:border-blue-500 outline-none transition shadow-sm" style="color: black !important;" placeholder="Ol√°, gostaria de me candidatar..."></textarea>
            </div>

            <div>
                <label class="block text-xs font-black text-gray-500 mb-2 uppercase">ANEXAR CURR√çCULO (PDF)</label>
                <div class="relative">
                    <input type="file" id="apply-file" accept="application/pdf" class="block w-full text-xs text-gray-500 file:mr-4 file:py-3 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-bold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 border border-gray-200 rounded-xl cursor-pointer bg-white">
                </div>
                <p class="text-[9px] text-red-500 font-bold mt-2 flex items-center gap-1">
                    <span>‚ö†Ô∏è</span> Obrigat√≥rio: Arquivo PDF
                </p>
            </div>
        </div>

        <div class="p-4 border-t border-gray-100 bg-gray-50 rounded-b-2xl">
            <button id="btn-submit-proposal" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-black py-4 rounded-xl transition shadow-lg uppercase tracking-wide transform active:scale-95">
                ENVIAR PROPOSTA üöÄ
            </button>
        </div>
    </div>
</div>

<div id="cv-setup-modal" class="hidden fixed inset-0 bg-black/90 z-50 flex flex-col items-center justify-center p-4 animate-fadeIn">
    <div class="bg-white w-full max-w-sm rounded-2xl p-6 relative">
        <button onclick="document.getElementById('cv-setup-modal').classList.add('hidden')" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-xl font-bold">&times;</button>
        <h3 class="font-black text-xl text-green-600 uppercase italic mb-1">Seu Curr√≠culo</h3>
        <p class="text-xs text-gray-400 mb-4">Preencha uma vez, aplique para sempre.</p>

        <label class="text-[9px] font-bold text-gray-500 uppercase">Nome Completo</label>
        <input type="text" id="cv-nome" class="w-full border p-2 rounded-lg mb-3 text-sm bg-gray-50">

        <label class="text-[9px] font-bold text-gray-500 uppercase">WhatsApp</label>
        <input type="tel" id="cv-telefone" class="w-full border p-2 rounded-lg mb-3 text-sm bg-gray-50" placeholder="(75) 9...">

        <label class="text-[9px] font-bold text-gray-500 uppercase">Habilidades / Resumo</label>
        <textarea id="cv-habilidades" rows="2" class="w-full border p-2 rounded-lg mb-3 text-sm bg-gray-50" placeholder="Ex: Tenho moto, experi√™ncia..."></textarea>

        <label class="text-[9px] font-bold text-blue-600 uppercase">üìé Anexar Curr√≠culo (PDF)</label>
        <input type="file" id="cv-arquivo" accept="application/pdf" class="w-full border p-2 rounded-lg mb-4 text-xs bg-blue-50 text-blue-900 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-blue-100 file:text-blue-700 hover:file:bg-blue-200">

        <button onclick="salvarCurriculo()" id="btn-save-cv" class="w-full bg-green-600 text-white py-3 rounded-xl font-bold uppercase shadow-lg hover:bg-green-700">SALVAR E CONTINUAR</button>
    </div>
</div>

<script>
    
    // 2. L√ìGICA DO BOT√ÉO "INSTALAR"
    let deferredPrompt;
    window.addEventListener('beforeinstallprompt', (e) => {
        e.preventDefault();
        deferredPrompt = e;

        const btn = document.getElementById('btn-install-app');
        if (btn) {
            btn.classList.remove('hidden');
            console.log("üì≤ Bot√£o de Instalar ativado pelo navegador!");

            btn.onclick = async () => {
                if (deferredPrompt) {
                    deferredPrompt.prompt();
                    const {
                        outcome
                    } = await deferredPrompt.userChoice;
                    console.log(`Op√ß√£o escolhida: ${outcome}`);
                    deferredPrompt = null;
                    btn.classList.add('hidden');
                }
            };
        }
    });
</script>

<script>
    // üîä CONFIGURA√á√ÉO DE SOM
    document.addEventListener("DOMContentLoaded", () => {
        const audio = document.getElementById('online-sound');
        if (audio) {
            audio.src = "https://actions.google.com/sounds/v1/cartoon/pop.ogg";
            audio.load();
            console.log("üîä Som de sistema configurado com sucesso.");
        }
    });
</script>          
          
<script type="module">
    const VERSAO = "2026223_V24";
    const caminhos = [
        "./js/app.js", 
        "./js/auth.js", 
        "./js/modules/request_v2.js"
    ];
    
    caminhos.forEach(src => {
        const s = document.createElement('script');
        s.type = 'module';
        s.src = `${src}?v=${VERSAO}`;
        document.head.appendChild(s);
    });
    console.log("üõ∞Ô∏è Interface V24 sincronizada via Index.");
</script>

<script type="module">
    import { getAuth, RecaptchaVerifier, signInWithPhoneNumber } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
    import { db, app } from './js/config.js'; 
    import { doc, getDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

    const auth = getAuth(app);
    auth.languageCode = 'pt-br';

    window.enviarSMSLogin = async () => {
        let rawPhone = document.getElementById('login-phone').value;
        let cleanPhone = rawPhone.replace(/\D/g, ''); 
        if(cleanPhone.length < 10) return alert("Digite o n√∫mero completo!");
        const btn = document.getElementById('btn-login-send');
        btn.disabled = true; btn.innerText = "ENVIANDO...";
        if(!window.recaptchaVerifier) window.recaptchaVerifier = new RecaptchaVerifier(auth, 'recaptcha-container', {'size': 'invisible'});
        try {
            const confirmationResult = await signInWithPhoneNumber(auth, '+55' + cleanPhone, window.recaptchaVerifier);
            window.confirmationResult = confirmationResult;
            document.getElementById('lbl-login-phone').innerText = '+55' + cleanPhone;
            document.getElementById('login-step-phone').classList.add('hidden');
            document.getElementById('login-step-code').classList.remove('hidden');
        } catch (error) { alert("Erro: " + error.message); btn.disabled = false; btn.innerText = "RECEBER C√ìDIGO SMS üì≤"; }
    };

    window.confirmarCodigoLogin = async () => {
        const code = document.getElementById('login-code').value;
        try { await window.confirmationResult.confirm(code); console.log("Sucesso no login!"); } catch (error) { alert("C√≥digo inv√°lido!"); }
    };

    // Sincronia de Alerta V12 - Corrigindo a rota para a nova cole√ß√£o saneada
    window.carregarConfiguracoesIniciais = async () => {
        try {
            const docSnap = await getDoc(doc(db, "configuracoes", "global"));
            if (docSnap.exists() && docSnap.data().top_message && docSnap.data().show_msg) {
                const msgDiv = document.getElementById('global-alert-banner');
                const msgText = document.getElementById('global-alert-text');
                if(msgDiv && msgText) {
                    msgText.innerText = "üì¢ " + docSnap.data().top_message;
                    msgDiv.classList.remove('hidden');
                }
            }
        } catch (e) { console.log("Aviso Global offline."); }
    };

    carregarConfiguracoesIniciais();
</script>
    
    <div id="modal-onboarding" class="fixed inset-0 z-[150] bg-slate-900 hidden flex-col overflow-y-auto custom-scrollbar">
        
        <div class="min-h-[38vh] bg-gradient-atlivio relative flex flex-col items-center justify-center p-6 text-center shrink-0">
            <div class="absolute top-4 right-4">
                <span class="bg-white/10 backdrop-blur-md text-white text-[9px] font-black px-4 py-1.5 rounded-full border border-white/20 uppercase tracking-[0.2em]">Acesso Exclusivo</span>
            </div>
            
            <div class="w-16 h-16 bg-white/10 backdrop-blur-2xl rounded-2xl mb-3 flex items-center justify-center border border-white/20 shadow-2xl relative shrink-0">
                <svg class="w-8 h-8 text-white opacity-90" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
                </svg>
                <div class="absolute -bottom-1 -right-1 bg-green-500 w-5 h-5 rounded-full border-2 border-slate-900 flex items-center justify-center text-[8px]">‚úî</div>
            </div>

            <h1 class="text-2xl font-black text-white italic uppercase tracking-tighter mb-0.5">Crie sua Conta</h1>
            <p class="text-blue-100 text-[10px] font-bold uppercase tracking-[0.2em] opacity-80">Voc√™ est√° a um passo do futuro</p>
        </div>

        <div class="flex-1 bg-slate-900 rounded-t-[3rem] -mt-12 p-8 pt-10 relative z-10 login-card-up shadow-[0_-20px_50px_rgba(0,0,0,0.5)] border-t border-white/5">
            
            <div class="max-w-md mx-auto">
                <div class="text-left mb-8">
                    <h2 class="text-2xl font-black text-white italic leading-tight">Bem-vindo(a) √† ATLIVIO.</h2>
                    <p class="text-slate-400 text-xs font-medium mt-1">Complete seus dados para liberar seu acesso e receber seu b√¥nus de entrada.</p>
                </div>

                <form id="form-onboarding" class="space-y-6">
                    <div class="space-y-2">
                        <label class="text-[10px] uppercase font-black text-slate-500 ml-1 tracking-widest">Nome Completo</label>
                        <input type="text" id="inp-onboard-name" 
                               class="w-full bg-slate-800 border-2 border-slate-700 rounded-2xl p-4 text-white font-bold focus:border-blue-500 outline-none transition-all shadow-inner" 
                               placeholder="Ex: Jo√£o Silva" required minlength="3">
                    </div>

                    <div class="space-y-2">
                        <label class="text-[10px] uppercase font-black text-slate-500 ml-1 tracking-widest">Seu WhatsApp</label>
                        <input type="tel" id="inp-onboard-phone" 
                               class="w-full bg-slate-800 border-2 border-slate-700 rounded-2xl p-4 text-white font-mono font-bold focus:border-green-500 outline-none transition-all shadow-inner" 
                               placeholder="(00) 00000-0000" required>
                    </div>

                    <div class="bg-slate-800/50 p-4 rounded-2xl border border-slate-700 flex items-start gap-4 transition-colors hover:bg-slate-800">
                        <input type="checkbox" id="chk-terms" class="mt-1 w-5 h-5 accent-blue-600 shrink-0" required>
                        <label for="chk-terms" class="text-[11px] text-slate-400 leading-relaxed">
                            Declaro que li e aceito as 
                            <button type="button" onclick="event.preventDefault(); event.stopPropagation(); window.openTerms('termos');" class="text-blue-500 font-black underline decoration-2">Regras de Uso</button> e 
                            <button type="button" onclick="event.preventDefault(); event.stopPropagation(); window.openTerms('privacidade');" class="text-blue-500 font-black underline decoration-2">Privacidade</button>.
                        </label>
                    </div>

                    <button type="submit" id="btn-onboard-submit" class="w-full bg-blue-600 text-white font-black uppercase py-5 rounded-2xl hover:bg-blue-500 transition-all shadow-[0_10px_30px_rgba(37,99,235,0.3)] transform active:scale-95 text-sm tracking-widest">
                        Entrar Gratuitamente üöÄ
                    </button>
                </form>

                <p class="text-center text-slate-600 text-[10px] mt-8 font-bold uppercase tracking-tighter">
                    üõ°Ô∏è Ambiente Seguro & Dados Criptografados
                </p>
            </div>
        </div>
    </div>

<script type="module">
    import { db, auth } from './js/config.js';
    import { doc, setDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

    // --- üìú TEXTOS JUR√çDICOS √çNTEGROS (V12 - Atualizado 05/02/2026) ---
const TEXTOS = {
    termos: `üìú TERMOS DE USO ‚Äî ATLIVIO
√öltima atualiza√ß√£o: 05 de Fevereiro de 2026

1. ACEITA√á√ÉO DOS TERMOS
Ao acessar ou utilizar a plataforma ATLIVIO, o usu√°rio declara que leu, compreendeu e concorda integralmente com estes Termos de Uso.

2. NATUREZA DO SERVI√áO
A ATLIVIO √© uma plataforma digital de intermedia√ß√£o, que conecta Clientes e Prestadores de Servi√ßos. A ATLIVIO n√£o executa servi√ßos, n√£o emprega prestadores e n√£o possui v√≠nculo trabalhista, societ√°rio ou contratual com nenhuma das partes.

3. CADASTRO E RESPONSABILIDADE
O usu√°rio √© respons√°vel por: fornecer informa√ß√µes verdadeiras; manter a confidencialidade de seu acesso; utilizar a plataforma de forma √©tica. A ATLIVIO pode suspender ou encerrar contas em caso de uso indevido, fraude ou tentativa de burlar o sistema.

4. SALDO, CR√âDITOS E PAGAMENTOS (CL√ÅUSULA DE N√ÉO REEMBOLSO)
Os valores e b√¥nus na carteira ATLIVIO s√£o CR√âDITOS VIRTUAIS para uso EXCLUSIVO dentro do ecossistema da plataforma. Estes cr√©ditos N√ÉO POSSUEM VALOR MONET√ÅRIO FORA DA ATLIVIO, n√£o configuram conta banc√°ria e N√ÉO PODEM SER SACADOS, convertidos em dinheiro vivo ou transferidos para contas externas em nenhuma hip√≥tese. Ao realizar uma recarga ou receber b√¥nus, o usu√°rio declara estar ciente de que est√° adquirindo 'Poder de Compra' interno para contrata√ß√£o de servi√ßos, produtos e taxas de intermedia√ß√£o.

5. SOLICITA√á√ïES, ACEITE E DESIST√äNCIA
Ao aceitar uma solicita√ß√£o, o Prestador concorda com as regras. A ATLIVIO registra eventos digitais, mas n√£o controla intera√ß√µes fora da plataforma. Acordos externos realizados ap√≥s a troca de informa√ß√µes s√£o de responsabilidade exclusiva das partes.

6. LIMITA√á√ÉO DE RESPONSABILIDADE
A ATLIVIO n√£o garante a conclus√£o de servi√ßos; n√£o se responsabiliza por qualidade, prazos ou resultados; n√£o responde por preju√≠zos causados por acordos externos.

7. CONDUTA E PENALIDADES
√â proibido: tentar burlar taxas e saldo; utilizar dados falsos; praticar ass√©dio ou golpes. Usu√°rios que violarem estas regras poder√£o ser banidos sem aviso pr√©vio, com perda total de acesso.

8. ALTERA√á√ïES
A ATLIVIO pode atualizar estes Termos a qualquer momento. O uso cont√≠nuo implica aceita√ß√£o das altera√ß√µes.`,

    privacidade: `üîê POL√çTICA DE PRIVACIDADE ‚Äî ATLIVIO
1. COLETA DE DADOS
Coletamos dados essenciais: Nome, WhatsApp, Email e informa√ß√µes de uso da plataforma.

2. USO DAS INFORMA√á√ïES
Dados usados para: Identificar usu√°rios; Conectar Clientes/Prestadores; Garantir seguran√ßa e prevenir fraudes.

3. COMPARTILHAMENTO
A ATLIVIO n√£o vende dados pessoais. Dados s√£o compartilhados apenas entre as partes envolvidas em uma solicita√ß√£o ativa.

4. SEGURAN√áA
Utilizamos SSL e infraestrutura Google Firebase. Embora sigamos padr√µes rigorosos, nenhum sistema √© 100% inviol√°vel.

5. DIREITOS DO USU√ÅRIO
O usu√°rio pode solicitar corre√ß√£o, exclus√£o de conta ou informa√ß√µes sobre seus dados a qualquer momento.

6. ALTERA√á√ïES
Esta Pol√≠tica pode ser atualizada. O uso da plataforma indica concord√¢ncia.`
};

    // --- üõ†Ô∏è FUN√á√ïES DE INTERFACE ---
    window.openTerms = (type) => {
        const modal = document.getElementById('modal-terms');
        const title = document.getElementById('term-title');
        const content = document.getElementById('term-content');
        if(!modal) return console.error("Modal de termos n√£o encontrado!");

        // Injeta o conte√∫do
        if(title) title.innerText = type === 'termos' ? "Termos de Uso ATLIVIO" : "Pol√≠tica de Privacidade";
        if(content) content.innerText = TEXTOS[type] || "Conte√∫do n√£o dispon√≠vel.";

        // For√ßa a exibi√ß√£o e move para o topo da hierarquia do corpo
        modal.classList.remove('hidden');
        modal.style.setProperty('display', 'flex', 'important');
        document.body.appendChild(modal); 
        
        console.log("üîì Abrindo documento:", type);
    };

    // --- üéÅ MOTOR DE CADASTRO E B√îNUS DE R$ 20,00 ---
    document.getElementById('form-onboarding')?.addEventListener('submit', async (e) => {
        e.preventDefault();
        const btn = document.getElementById('btn-onboard-submit');
        const nome = document.getElementById('inp-onboard-name').value;
        const fone = document.getElementById('inp-onboard-phone').value;
        const uid = auth.currentUser?.uid;

        if (!uid) return alert("Erro: Fa√ßa login antes!");
        btn.disabled = true;
        btn.innerText = "ATIVANDO B√îNUS...";

        try {
            const userRef = doc(db, "usuarios", uid);
            const origem = localStorage.getItem("traffic_source") || "direto";

           await setDoc(userRef, {
                nome: nome,
                telefone: fone,
                // O b√¥nus de R$ 20 agora √© injetado via wallet_bonus para separa√ß√£o cont√°bil   - PONTO CR√çTICO SOLU√á√ÉO B√îNUS
                wallet_bonus: 20.00,
                traffic_source: origem,
                onboarding_completed: true,
                terms_accepted: true,
                terms_accepted_at: serverTimestamp(),
                updated_at: serverTimestamp()
            }, { merge: true });

            alert(`Parab√©ns ${nome}! Cadastro conclu√≠do e R$ 20,00 de b√¥nus liberados!`);
            document.getElementById('modal-onboarding').classList.add('hidden');
        } catch (err) { alert("Erro ao salvar."); btn.disabled = false; }
    });

    // --- üîó RASTREADOR (Item 39) ---
    const p = new URLSearchParams(window.location.search);
    const ref = p.get('ref') || p.get('utm_source') || p.get('utm');
    if(ref) localStorage.setItem("traffic_source", ref);
</script>
    
<div id="modal-settings" class="fixed inset-0 z-[60] bg-black/90 hidden items-end md:items-center justify-center p-4 animate-fadeIn">
    <div class="bg-white w-full max-w-sm rounded-t-2xl md:rounded-2xl shadow-2xl flex flex-col max-h-[90vh]">
        
        <div class="bg-gradient-atlivio p-5 rounded-t-2xl flex justify-between items-center shrink-0 shadow-md">
            <h3 class="text-white font-black uppercase italic flex items-center gap-2">
                ‚öôÔ∏è Minha Conta
            </h3>
            <button onclick="document.getElementById('modal-settings').classList.add('hidden')" class="text-gray-400 hover:text-white text-2xl font-bold">&times;</button>
        </div>

        <div class="p-6 overflow-y-auto custom-scrollbar space-y-6">
            
            <div class="space-y-3">
                <p class="text-[10px] font-black text-[#0f172a] uppercase tracking-widest border-b-2 border-slate-100 pb-1">Identidade</p>
                
                <div class="flex flex-col items-center mb-4">
                    <div class="relative group cursor-pointer" onclick="document.getElementById('profile-upload').click()">
                        <img id="settings-pic" src="" class="w-20 h-20 rounded-full border-4 border-slate-100 object-cover" onerror="this.src='https://ui-avatars.com/api/?name=User&background=random'">
                        <div class="absolute inset-0 bg-black/40 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition">
                            <span class="text-xs text-white font-bold">ALTERAR</span>
                        </div>
                    </div>
                    <p class="text-[9px] text-blue-500 mt-1 cursor-pointer hover:underline" onclick="document.getElementById('profile-upload').click()">Trocar Foto</p>
                </div>

                <div>
                    <label class="text-[10px] font-bold text-gray-500 uppercase">Nome Completo</label>
                    <input type="text" id="set-nome" class="w-full border p-3 rounded-xl text-sm font-bold text-gray-800 bg-gray-50 focus:bg-white transition">
                </div>
                
                <div>
                    <label class="text-[10px] font-bold text-gray-500 uppercase">WhatsApp</label>
                    <input type="tel" id="set-phone" class="w-full border p-3 rounded-xl text-sm font-mono text-gray-600 bg-gray-100 cursor-not-allowed" disabled title="Fale com o suporte para alterar">
                </div>
            </div>

            <div class="bg-green-50 p-4 rounded-xl border border-green-200 space-y-3">
                <div class="flex justify-between items-center border-b border-green-200 pb-2">
                    <p class="text-[10px] font-bold text-green-800 uppercase tracking-widest">Dados de Recebimento</p>
                    <span class="text-lg">ü§ë</span>
                </div>
                
                <div class="space-y-3">
                    <div>
                        <label class="text-[10px] text-gray-500 font-bold">Chave PIX</label>
                        <input type="text" id="set-pix-chave" placeholder="CPF, Email ou Aleat√≥ria" class="w-full bg-white border border-green-200 rounded-lg p-2 text-sm font-bold text-gray-700 outline-none focus:border-green-500">
                    </div>

                    <div class="grid grid-cols-2 gap-2">
                        <div>
                            <label class="text-[10px] text-gray-500 font-bold">Banco</label>
                            <input type="text" id="set-pix-banco" placeholder="Ex: Nubank" class="w-full bg-white border border-green-200 rounded-lg p-2 text-sm text-gray-700 outline-none">
                        </div>
                        <div>
                            <label class="text-[10px] text-gray-500 font-bold">CPF Titular</label>
                            <input type="text" id="set-pix-cpf" placeholder="000..." class="w-full bg-white border border-green-200 rounded-lg p-2 text-sm text-gray-700 outline-none">
                        </div>
                    </div>

                    <div>
                        <label class="text-[10px] text-gray-500 font-bold">Nome do Titular</label>
                        <input type="text" id="set-pix-nome" placeholder="Nome igual no banco" class="w-full bg-white border border-green-200 rounded-lg p-2 text-sm text-gray-700 outline-none">
                    </div>
                    
                    <p class="text-[9px] text-red-600 font-bold mt-1 bg-red-50 p-2 rounded border border-red-100">
                        ‚ö†Ô∏è Aten√ß√£o: A conta banc√°ria deve ser do mesmo titular do perfil.
                    </p>
                </div>
            </div>

            <div class="space-y-3 pt-2">
                <button onclick="window.copiarLinkAfiliado()" class="w-full border border-blue-200 bg-blue-50 text-blue-700 py-3 rounded-xl font-bold text-xs flex items-center justify-center gap-2 hover:bg-blue-100 transition">
                    üîó Copiar Meu Link de Indica√ß√£o
                </button>

                <button onclick="logout()" class="w-full bg-red-50 text-red-600 py-4 rounded-xl font-black text-[10px] uppercase flex items-center justify-center gap-2 hover:bg-red-100 transition shadow-sm border border-red-100">
                    üö™ Encerrar Sess√£o (Sair)
                </button>
            </div>

        </div>

        <div class="p-4 border-t border-gray-100 bg-gray-50 rounded-b-2xl flex justify-between items-center shrink-0">
            <span class="text-[10px] text-gray-400">ID: <span id="set-uid" class="font-mono">...</span></span>
            <button onclick="window.salvarConfiguracoes()" id="btn-save-settings" class="bg-slate-900 text-white px-6 py-3 rounded-xl font-bold text-xs shadow-lg hover:bg-slate-800 transition transform active:scale-95">
                SALVAR ALTERA√á√ïES
            </button>
        </div>
    </div>
</div>
    <div id="provider-setup-modal" class="hidden fixed inset-0 bg-black/90 z-50 flex flex-col items-center justify-center p-4 animate-fadeIn">
    <div class="bg-white w-full max-w-sm rounded-2xl p-6 relative max-h-[90vh] overflow-y-auto custom-scrollbar">
        <button onclick="document.getElementById('provider-setup-modal').classList.add('hidden')" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-xl font-bold">&times;</button>
        <div id="provider-setup-content">
            <p class="text-center text-gray-400">Carregando editor...</p>
        </div>
    </div>
</div>
            <div id="modal-terms" class="hidden fixed inset-0 bg-black/95 items-center justify-center p-4 animate-fadeIn" style="display: none; z-index: 999999 !important;">
        <div class="w-full max-w-lg bg-slate-800 rounded-[2.5rem] border border-slate-700 shadow-2xl flex flex-col max-h-[85vh] overflow-hidden">
            <div class="p-6 border-b border-slate-700 flex justify-between items-center bg-slate-900">
                <h3 class="text-white font-black uppercase italic tracking-widest text-xs" id="term-title">Documentos Legais</h3>
                <button onclick="document.getElementById('modal-terms').style.setProperty('display', 'none', 'important');" class="text-slate-400 hover:text-white text-3xl font-bold transition">&times;</button>
            </div>
            
            <div class="p-8 overflow-y-auto text-slate-300 text-[11px] space-y-4 leading-relaxed custom-scrollbar" id="term-content" style="white-space: pre-wrap;">
                </div>

            <div class="p-6 border-t border-slate-700 bg-slate-900">
                <button onclick="document.getElementById('modal-terms').style.setProperty('display', 'none', 'important');" 
                        class="w-full bg-blue-600 hover:bg-blue-500 text-white py-4 rounded-2xl font-black uppercase tracking-widest shadow-lg transition transform active:scale-95">
                    CONCORDO E VOLTAR
                </button>
            </div>
        </div>
    </div>
</body>
</html>
